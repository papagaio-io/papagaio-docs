(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{390:function(a,e,n){"use strict";n.r(e);var t=n(28),s=Object(t.a)({},(function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"kubernetes-installation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-installation"}},[a._v("#")]),a._v(" Kubernetes Installation")]),a._v(" "),n("p",[a._v("This page will guide you to deploy Papagaio on Kubernetes environment using this examples.")]),a._v(" "),n("h2",{attrs:{id:"example-of-pv-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-pv-yml"}},[a._v("#")]),a._v(" Example of pv.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("kind: PersistentVolume\napiVersion: v1\nmetadata:\n  name: pv-papagaio-dev\n  namespace: ci-dev\nspec:\n  storageClassName: nfs\n  capacity:\n    storage: 10Gi\n  accessModes:\n    - ReadWriteOnce\n  persistentVolumeReclaimPolicy: Retain\n  nfs:\n    server: 10.100.132.33\n    path: /zdata/papagaio-dev\n")])])]),n("h2",{attrs:{id:"example-of-claim-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-claim-yml"}},[a._v("#")]),a._v(" Example of claim.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: claim-papagaio-dev\n  namespace: ci-dev\nspec:\n  accessModes:\n    - ReadWriteOnce\n  storageClassName: nfs\n  resources:\n    requests:\n      storage: 10Gi\n  volumeName: "pv-papagaio-dev"\n')])])]),n("h2",{attrs:{id:"example-of-deployment-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-deployment-yml"}},[a._v("#")]),a._v(" Example of deployment.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  labels:\n    app: papagaio\n  name: papagaio\n  namespace: ci-dev\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: papagaio\n  template:\n    metadata:\n      labels:\n        app: papagaio\n    spec:\n      containers:\n        - image: hub.docker.com/tulliobotti/papagaio:latest\n          imagePullPolicy: Always\n          name: papagaio\n          ports:\n            - containerPort: 8000\n              protocol: TCP\n          volumeMounts:\n            - name: papagaio-conf\n              mountPath: /bin/config.json\n              subPath: config\n            - name: papagaio-persistent-storage\n              mountPath: /mnt/papagaio-data       \n          livenessProbe:\n            httpGet:\n              path: /ping\n              port: 8000\n            initialDelaySeconds: 5\n            periodSeconds: 5\n      restartPolicy: Always\n      volumes:\n        - name: papagaio-conf\n          secret:\n            secretName: papagaio-secret\n            items:\n              - key: config.json\n                path: config\n        - name: papagaio-persistent-storage\n          persistentVolumeClaim:\n            claimName: claim-papagaio-dev\n")])])]),n("h2",{attrs:{id:"example-of-ingress-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-ingress-yml"}},[a._v("#")]),a._v(" Example of ingress.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("apiVersion: extensions/v1beta1\nkind: Ingress\nmetadata:\n  name: papagaio\n  namespace: ci-dev\nspec:\n  rules:\n    - host: papagaio.yourdomain.it\n      http:\n        paths:\n          - path: /\n            backend:\n              serviceName: papagaio\n              servicePort: 8000\n")])])]),n("h2",{attrs:{id:"example-of-service-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-service-yml"}},[a._v("#")]),a._v(" Example of service.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("apiVersion: v1\nkind: Service\nmetadata:\n  name: papagaio\n  namespace: ci-dev\n  labels:\n    app: papagaio\nspec:\n  ports:\n    - port: 8000\n      name: papagaio\n      protocol: TCP\n      targetPort: 8000\n  selector:\n    app: papagaio\n  type: ClusterIP\n")])])]),n("h2",{attrs:{id:"example-of-secret-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example-of-secret-yml"}},[a._v("#")]),a._v(" Example of secret.yml")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('apiVersion: v1\nkind: Secret\nmetadata:\n  name: papagaio-secret\n  namespace: ci-dev\nstringData:\n  config.json: |\n    {\n      "Server": {\n        "Port": "8000",\n        "LocalHostAddress": "https://papagaio.yourdomain.it",\n        "ApiExposedURL": "https://papagaio.yourdomain.it/api"\n      },\n      "Database": {\n        "DbPath" : "/mnt/papagaio-data/badger",\n        "DbName": "papagaio-api"\n      },\n      "Agola": {\n        "AgolaAddr": "https://agola.yourdomain.it",\n        "AdminToken": "YOUR_ADMIN_TOKEN"\n      },\n      "CmdConfig": {\n       "DefaultGatewayURL": "http://localhost:8000"\n      },\n      "AdminToken": "YOUR_ADMIN_TOKEN",\n      "TokenSigning": {\n        "Method": "hmac",\n        "Key": "SECRET_KEY",\n        "Duration": 3600\n      },\n      "LogHttpRequest": true,\n      "TriggersConfig": {\n        "OrganizationsDefaultTriggerTime": 5,\n        "RunFailedDefaultTriggerTime": 5,\n        "UsersDefaultTriggerTime": 1440,\n        "StartOrganizationsTrigger": true,\n        "StartRunFailedTrigger": true,\n        "StartUsersTrigger": true\n      },\n      "Email": {\n        "SMTPServer": "mail.yourserver.it",\n        "SMTPPort": 25,\n        "Username": "mailuser",\n        "Password": "mailpass",\n        "From": "Papagaio <no-reply@yourdomain.it>",\n        "Encryption": "NONE"\n      }\n    }\n\n')])])])])}),[],!1,null,null,null);e.default=s.exports}}]);